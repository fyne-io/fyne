package fyne

// Resource represents a single binary resource, such as an image or font.
// A resource has an identifying name and byte array content.
// The serialised path of a resource can be obtained which may result in a
// blocking filesystem write operation.
type Resource interface {
	Name() string
	Content() []byte
	AdoptIconColor() bool
}

// StaticResource is a bundled resource compiled into the application.
// These resources are normally generated by the fyne_bundle command included in
// the Fyne toolkit.
type StaticResource struct {
	StaticName           string
	StaticContent        []byte
	StaticAdoptIconColor bool
}

// Name returns the unique name of this resource, usually matching the file it
// was generated from.
func (r *StaticResource) Name() string {
	return r.StaticName
}

// Content returns the bytes of the bundled resource, no compression is applied
// but any compression on the resource is retained.
func (r *StaticResource) Content() []byte {
	return r.StaticContent
}

// AdoptIconColor returns a boolean indicating whether this Resource should be recolored to match the theme's icon color
func (r *StaticResource) AdoptIconColor() bool {
	return r.StaticAdoptIconColor
}

// NewStaticResource returns a new static resource object with the specified
// name and content. Creating a new static resource in memory results in
// sharable binary data that may be serialised to the location returned by
// CachePath().
func NewStaticResource(name string, content []byte, adoptIconColor bool) *StaticResource {
	return &StaticResource{
		StaticName:           name,
		StaticContent:        content,
		StaticAdoptIconColor: adoptIconColor,
	}
}
